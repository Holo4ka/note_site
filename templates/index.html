{% extends "base.html" %}

{% block content %}

{% for item in notes%}
<div class="col-md6 border rounded holochka">

    <div class="header">
        Название - <br>
        {{item.header}}
    </div>
    <div>
        <p class="peshka">{{item.text}}</p>
    </div>
</div>
{% endfor %}

{% endblock %}


<{% block modal %}
<dialog id="my-dialog">
    <form action="" method="post">
        {{ form.hidden_tag() }}
    <h1>Новая заметка</h1>
    <p>
    {{ form.header.label }}<br>
    {{ form.header(class="form-control") }}<br>
    {% for error in form.header.errors %}
            <p class="alert alert-danger" role="alert">
                {{ error }}
            </p>
        {% endfor %}
    </p>
    <p>
        {{ form.text.label }}<br>
        {{ form.text(class="large-text") }}<br>
        {% for error in form.text.errors %}
            <p class="alert alert-danger" role="alert">
                {{ error }}
            </p>
        {% endfor %}
    </p>
    <p>{{ form.submit(type="submit", class="btn btn-primary") }}</p>
    {{message}}
    </form>
  <button id="close-dialog-btn">Закрыть</button>
</dialog>


<script>
  const showDialogBtn = document.querySelector('#show-dialog-btn');
  const myDialog = document.querySelector('#my-dialog');
  const closeDialogBtn = document.querySelector('#close-dialog-btn');

  showDialogBtn.addEventListener('click', () => {
    myDialog.showModal();
  });

  closeDialogBtn.addEventListener('click', () => {
    myDialog.close();
  });


</script>
{% endblock %}>
